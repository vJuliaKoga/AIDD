run_id: RUN-001
prompt_id: PR-001
timestamp: 2026-02-12
model: gpt-5.2
temperature: 0.2
output_hash: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855

以下は、添付企画書に基づく「要件定義（Whatのみ）」です。
※企画書の記載内容を根拠にしたもの（FR）と、上流品質観点で不足しやすい前提を最小限補完したもの（AR）を明確に分離しています。 

---

## ■ 企画書由来要件

### ID: FR-001

**名称:** 上流QAワークフローの構造化（工程・タスク・詳細の階層管理）
**内容:** 上流工程の品質保証活動を「工程（L1）／タスク（L2）／詳細（L3）」の階層で管理できること。 
**入力:** 工程種別、タスク定義、詳細情報（観点・テンプレ等）
**出力:** 階層構造として参照・利用可能なQAワークフロー
**成功条件:** 工程→タスク→詳細の関係が保持され、任意の工程配下のタスク一覧と各タスク詳細を取得できる
**対象外:** 実装方式、画面レイアウト、データモデル設計

---

### ID: FR-002

**名称:** 工程選択に応じた必要タスクの展開
**内容:** 工程を選択すると、その工程に必要なタスク群が利用可能状態として展開されること。 
**入力:** 選択された工程
**出力:** 当該工程に紐づくタスク一覧（初期状態を含む）
**成功条件:** 選択工程に対応するタスクが欠落なく提示され、以降の実施記録の対象になる
**対象外:** 工程選択のUI方式（スイッチ等の具体）、自動生成ロジックの詳細

---

### ID: FR-003

**名称:** タスクチケットの情報保持（目的・観点・テンプレ等）
**内容:** 各タスクはチケットとして、目的／確認観点／チェックリスト／参考プロンプト（テンプレ）／参考資料リンク／判定基準を保持できること。 
**入力:** タスクチケット情報一式
**出力:** タスクチケット詳細情報
**成功条件:** 上記の要素がタスク単位で参照可能であり、欠落なく保持される
**対象外:** テンプレやチェックリストの自動作成

---

### ID: FR-004

**名称:** 自動生成を行わない（人の判断前提）
**内容:** タスク・観点・テンプレ等の自動生成や、AIによる自動判定を行わないこと。判断は必ず人が行う前提であること。 
**入力:** なし（方針要件）
**出力:** 自動生成／自動判定が存在しない仕様状態
**成功条件:** 利用者の明示操作・入力なしに、タスクや判断結果が作成・確定されない
**対象外:** AI評価エンジン、AI制御プラットフォームとしての機能

---

### ID: FR-005

**名称:** タスクステータス管理（ToDo / Done / Abort）
**内容:** 各タスクに対し、ToDo／Done／Abort のステータスを記録できること。 
**入力:** タスク識別子、設定するステータス
**出力:** 更新後ステータス
**成功条件:** 各タスクがいずれか1つの状態を取り、状態遷移後に参照可能
**対象外:** 状態遷移ルールの実装詳細（例：どの状態からどの状態へ等の厳密ルール）

---

### ID: FR-006

**名称:** Abort時の理由必須記録
**内容:** タスクをAbortにする場合、理由の記録を必須とすること（例：今回対象外／前提未確定／スコープ外）。 
**入力:** タスク識別子、Abort理由
**出力:** Abort状態と理由ログ
**成功条件:** Abortが理由なしに確定できず、理由が後から参照できる
**対象外:** 理由の文言テンプレや入力UIの強制方式

---

### ID: FR-007

**名称:** Abortを正式な品質判断として扱う
**内容:** Abortを例外扱いではなく、品質判断の結果として履歴に含めること。 
**入力:** タスク状態（Abort）と理由
**出力:** 品質履歴（判断ログ）に含まれたAbort情報
**成功条件:** 可視化・保存・エクスポート等の履歴出力にAbort分岐/結果が含まれる
**対象外:** Abortを自動推奨する機能

---

### ID: FR-008

**名称:** 実施ステータスの記録（何を確認したかの可視化に資する）
**内容:** 「QAの実施有無だけでなく中身が見える」状態を目指し、タスク実施状況と判断結果を記録できること。 
**入力:** タスク単位の実施結果（少なくともステータス・Abort理由）
**出力:** プロジェクト（または作業単位）の実施記録
**成功条件:** 後から「どのタスクを、どの結論で扱ったか（Done/Abort等）」が追跡できる
**対象外:** 実施内容の自動評価（品質の良否をAIが判定等）

---

### ID: FR-009

**名称:** 品質フロー図生成（実施済タスク接続＋Abort分岐表示）
**内容:** 実施済タスクを接続し、Abort分岐も含めたフロー図として、プロジェクト固有の品質履歴を生成できること。 
**入力:** タスク集合、各タスクの状態（ToDo/Done/Abort）と理由（Abort時）
**出力:** 品質フロー図（可視化表現）
**成功条件:** Doneの連なりとAbort分岐が識別可能な形で生成される
**対象外:** フロー図の描画方式、レイアウトアルゴリズム

---

### ID: FR-010

**名称:** スナップショット保存（セッション保存）
**内容:** 作業状態をスナップショットとして保存できること（セッション保存）。 
**入力:** 保存対象の作業状態（工程選択、タスク状態、理由等）
**出力:** スナップショット（保存済状態）
**成功条件:** 保存後に同一状態を再現可能な情報として保持される
**対象外:** 保存先の技術方式、保存上限や自動保存の挙動

---

### ID: FR-011

**名称:** JSON形式エクスポート（日報利用想定）
**内容:** スナップショット（セッション）をJSON形式でエクスポートできること。日報利用を想定する。 
**入力:** エクスポート対象のスナップショット指定
**出力:** JSONデータ（エクスポート結果）
**成功条件:** タスク状態、Abort理由等を含む必要情報がJSONとして出力される
**対象外:** JSONスキーマ詳細、外部連携API

---

### ID: FR-012

**名称:** UI統一性の検証を品質対象に含める（方針）
**内容:** UI統一性（工程選択、タスクチケット、親子の差別化）を「設計仕様に対する再現性の確認」として検証対象に含めること。 
**入力:** 対象となる仕様/成果物（UIに関する設計仕様）
**出力:** 検証対象として扱われること（チェック観点として保持される等）
**成功条件:** UI統一性が品質観点/タスクとして扱える（少なくとも対象外にならない）
**対象外:** UIの具体的構成・画面設計・デザインルール策定

---

## ■ AI補完要件

> 企画書の目的（判断ログ・再利用・可視化）を運用で成立させるために「不足すると破綻しやすい前提」だけを最小限補完します。機能の過度追加はしていません。

### ID: AR-001

**名称:** プロジェクト（作業単位）の識別と紐づけ
**内容:** タスク状態・判断ログ・フロー図・スナップショットは、少なくとも「どのプロジェクト（または案件/作業単位）のものか」を識別し紐づけられること。
**補完理由:** 企画目的が「プロジェクト固有の品質履歴を生成」「判断ログを残す」である以上、履歴がどの単位に属するか不明だと再利用・追跡が成立しないため。 
**入力:** プロジェクト識別情報（名称またはID相当）、当該プロジェクトのタスク実施情報
**出力:** プロジェクト単位に集約された品質履歴・スナップショット
**成功条件:** 任意のプロジェクトを指定して、その配下の実施状況・履歴・エクスポートを取得できる
**対象外:** プロジェクト登録フローのUI、命名規則、権限設計の詳細

---

### ID: AR-002

**名称:** 変更履歴の追跡（誰が・いつ・何を判断したかの最小記録）
**内容:** タスクのステータス変更およびAbort理由の登録について、「変更日時」と「変更者（識別子）」を記録できること。
**補完理由:** 「何を確認したかが記録されない」「差し戻し理由が残らない」という課題に対し、最低限の監査可能性（トレーサビリティ）がないと“ログ”として不十分になりやすいため。 
**入力:** タスクの状態変更、変更者識別子、変更日時（システム/入力いずれでも）
**出力:** 変更履歴情報
**成功条件:** タスクごとに直近状態だけでなく、変更の事実（いつ/誰が）が参照できる
**対象外:** 認証方式、詳細な監査ログ要件（差分全文保存等）

---

### ID: AR-003

**名称:** スナップショットの一覧・識別（名称/日時で区別）
**内容:** 保存されたスナップショットは、複数件を区別できる識別情報（例：保存日時、任意名称）を持ち、一覧から選択可能であること。
**補完理由:** 「セッション保存」「日報利用」を想定すると、保存が単発前提だと運用で破綻しやすく、複数スナップショットの識別が最低限必要なため。 
**入力:** スナップショット保存時の識別情報（名称任意/日時）
**出力:** スナップショット一覧、選択されたスナップショット
**成功条件:** 同一プロジェクトで複数スナップショットを保存しても混同せず再利用できる
**対象外:** バージョニング方式、差分保存方式、世代管理ポリシー

---

### ID: AR-004

**名称:** エクスポート対象範囲の明確化（スナップショット単位）
**内容:** JSONエクスポートは「特定のスナップショット（セッション）」を対象として実行でき、出力がどのスナップショット由来か識別できること。
**補完理由:** 日報利用では「いつ時点の状況か」が重要であり、出力が任意時点の混在になると証跡として不適切になりやすいため。 
**入力:** エクスポート対象スナップショット指定
**出力:** 対象スナップショット由来であることが分かるJSON
**成功条件:** 出力JSONが特定スナップショットに一意に対応し、後から紐づけ確認できる
**対象外:** 出力フォーマット詳細、外部システムへの自動送信

---

### ID: AR-005

**名称:** 標準観点・テンプレの再利用単位の定義（タスク単位）
**内容:** チェック観点・テンプレ・参考資料リンク等は「タスク単位」で再利用可能な資産として扱えること（プロジェクト固有の実施結果とは分離して参照できること）。
**補完理由:** 企画目的に「再利用可能にする」「チェックリストやプロンプトが散在」があるため、資産（標準観点/テンプレ）と実施ログ（状態/判断）を混同しない最小要件が必要なため。 
**入力:** タスク資産情報、プロジェクト実施情報
**出力:** タスク資産（標準）参照と、プロジェクト実施結果（履歴）の両立
**成功条件:** 同一タスク資産を複数プロジェクトで参照しても、実施結果が混線しない
**対象外:** 資産の承認フロー、社内標準化プロセス、テンプレ作成支援

---

必要なら、この要件セットを「要件定義工程のみ（Phase 1）」に絞ったスコープ表（対象/対象外の整理）にも落とし込めます。
